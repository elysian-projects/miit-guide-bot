# Стили написания кода

[К документации](/docs/README.md)

В данном файле собраны правила написания кода на `python`, принятые для данного проекта, чтобы избежать разночтений и свести код каждого члена команды к единому стилю. Перед открытием `pull request` следует проверить свой код на соответствие этим правилам, это значительно ускорит и упростит процесс разработки.

<hr/>

## Название сущностей в коде

Название сущностей в коде (например, переменные, функции, поля, методы, классы и т.п) имеет очень большую ценность. При работе с кодом мы оперируем именно их названиями, а потому каждая переменная и каждый класс должны иметь осмысленное название, отражающее то, что они в себе хранят, а методы и функции - то, что они делают. Каждая сущность в коде должна быть названа на английском языке. В случае затруднения следует воспользоваться переводчиком.

```python
# Плохо
a = 18

def x(a, b):
    pass

class B:
    pass

# Хорошо
age = 18

def find_max(number1, number2):
    pass

class Person:
    pass
```

### Общие правила именования
- все переменные и функции должны быть названы в `snake_case` (каждое слово написано с маленькой буквы, слова разделены нижним подчёркиванием):
```python
# Переменные
data = 1
some_data = 5
some_more_data = 10

# Функции
def click():
    pass
def get_age():
    pass
def get_user_age():
    pass
```

- названия классов должны быть в `PascalCase` (каждое слово с большой буквы, слова не разделены ничем)
```python
class Person:
    pass
class CarEngine:
    pass
```

- названия не должны начинаться с цифр
```python
# Плохо, ошибка интерпретации
1var = 2

# Хорошо
var_1 = 2
```

- использовать цифры в названиях `только в крайнем случае`

- не пользовать символы `$%^&*` и т.п

- название переменных типа `bool` должны иметь префикс is_{название_переменной}:
```python
is_ready = True
is_loading = False
```

- приватные поля и методы должны иметь префикс _{название}:
```python
class Person:
    # Приватные поля
    _name: str
    _age: int

    # Публичные методы
    def get_age(self) -> int:
        return self._age

    def set_age(self, age: int) -> None:
```

<hr/>

## Объединение с помощью круглых скобок

В некоторых случаях скобки задают порядок выполнения действий (например, алгебраических), однако круглые скобки могут также визуально объединять кусок кода в строке.

### Использование круглых скобок ОБЯЗАТЕЛЬНО:
- с оператором `if`:
```python
if (condition):
    pass
if (condition_1 or condition_2):
    pass
```

<hr/>

## Комментарии

Комментарии в коде служат для его лучшего понимания, однако в большинстве случаев код непонятен только тогда, когда он плохо написан. Использование комментариев в нашем проекте НЕ приветствуется, однако куски кода со сложной логикой могут быть задокументированы в комментариях, если есть ощущение, что через время понять такой код будет сложно. `Pull request` с избыточными комментариями не принимаются.

<hr/>

## Работа с типами

Язык `python` имеет `строгую неявную` типизацию, поэтому он не требует указания типов, однако позволяет явно прописывать их:

```python
# Неявный тип int
age = 18

# Явный тип int
age: int = 18
```

Явное указание типов `ОБЯЗАТЕЛЬНО` для аргументов функция и методов, а также их возвращаемых значений:

```python
#                             тип аргумента    возвр. тип
def get_server_data(connection: Database) -> ServerResponse:
    return ServerResponse(connection)

# Если функция ничего не возвращает, возвращаемый тип - `None`
def set_value(value: str) -> None:
    print("hello")
```

<hr/>

## Отступы

Отступы играют очень важную роль в восприятии кода. Если весь код слеплен в один большой блок, его сложно читать. Сравните:

```python
# Без отступов
class Database:
    pass
database = Database()
database.connect(config.database_url, config.database_login, config.database_password)
if (database.is_ok):
    print("Connection established!")
else:
    print("Failed to connect to the database")

# С отступами
class Database:
    pass

database = Database()

database.connect(
    config.database_url,
    config.database_login,
    config.database_password
)

if (database.is_ok):
    print("Connection established!")
else:
    print("Failed to connect to the database")

```

Объединять можно куски последовательного однострочного кода, если он реализует один функционал:

```python
class Person:
    _name: str
    _age: int

    def __init__(self, name: str, age: int):
        # Инициализация полей класса
        self._name = name
        self._age = age

# Инициализация переменных одной направленности
name = "Nikita"
age = 18

# Уже другой функционал - создание экземпляра класса
person = Person(name, age)
```

[К документации](/docs/README.md)